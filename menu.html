<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Iniziale</title>
    <link rel="stylesheet" href="menu.css">
</head>
<body>
    <h1>Gioco del Tris</h1>
    <form id="menu-form">
        <div>
            <label for="player1">Nome Giocatore 1</label>
            <input type="text" id="player1" name="player1" placeholder="Nome Giocatore 1" autocomplete="off" required>
        </div>
        <div id="player2-container">
            <label for="player2">Nome Giocatore 2</label>
            <input type="text" id="player2" name="player2" placeholder="Nome Giocatore 2" autocomplete="off">
        </div>
        <div>
            <label for="game-mode">Modalit√† di Gioco</label>
            <select id="game-mode" name="game-mode">
                <option value="player-vs-player">Giocatore vs Giocatore</option>
                <option value="player-vs-computer">Giocatore vs Computer</option>
            </select>
        </div>
        <button type="submit">Inizia il Gioco</button>
    </form>
    <script>
        const player2Container = document.getElementById('player2-container');
        const gameModeSelect = document.getElementById('game-mode');

        function updatePlayer2Visibility() {
            if (gameModeSelect.value === 'player-vs-computer') {
                player2Container.style.display = 'none';
            } else {
                player2Container.style.display = 'block';
            }
        }

        updatePlayer2Visibility();

        gameModeSelect.addEventListener('change', updatePlayer2Visibility);

        document.getElementById('menu-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const player1 = document.getElementById('player1').value;
            const player2 = gameModeSelect.value === 'player-vs-computer' ? 'Computer' : document.getElementById('player2').value;
            const gameMode = gameModeSelect.value;
            
            if (player1) {
                const url = `game.html?player1=${encodeURIComponent(player1)}&player2=${encodeURIComponent(player2)}&mode=${gameMode}`;
                window.location.href = url;
            } else {
                alert("Per favore, inserisci il nome del Giocatore 1.");
            }
        });
    </script>
</body>
</html>